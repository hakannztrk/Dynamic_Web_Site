@model IEnumerable<Dynamic_Web_Site.Models.Model.Tanitim>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    var openCount = Model.Count(x => x.Status == "Open");
}
<script>
    $(document).ready(function () {
        $('#myTable').DataTable(
            { "language": { "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Turkish.json" } }


        );
    });
</script>
<h3>Tanıtım</h3>
@if (openCount==0)
{
    <p>
        @Html.ActionLink("Yeni Tanıtım", "Create", null, new { @class = "btn btn-primary" })
    </p>
}

<table class="table" id="myTable">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.TNT_TanıtımAdi)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TNT_Tanitim)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TNT_Create_Date)
            </th>

            <th>İşlemler</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            if (item.Status == "Open")
            {
                <tr class="success">
                    <td>
                        @Html.DisplayFor(modelItem => item.TNT_TanıtımAdi)
                    </td>
                    <td>
                        @if (!string.IsNullOrEmpty(item.TNT_Tanitim))
                        {
                            <video width="320" height="240" controls>
                                <source src="@item.TNT_Tanitim" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        }
                        else
                        {
                            @:Video bulunamadı
                        }
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TNT_Create_Date)
                    </td>

                    <td>
                        @Html.ActionLink("Düzenle", "Edit", new { id = item.TNT_Id }, new { @class = "btn btn-warning" }) |

                        @Html.ActionLink("Ürünü Sil", "Delete", new { id = item.TNT_Id }, new { @class = "btn btn-danger" })
                    </td>
                </tr>
            }
            else
            {
                <tr class="danger">
                    <td>
                        @Html.DisplayFor(modelItem => item.TNT_TanıtımAdi)
                    </td>
                    <td>
                        @if (!string.IsNullOrEmpty(item.TNT_Tanitim))
                        {
                            <video width="320" height="240" controls>
                                <source src="@item.TNT_Tanitim" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        }
                        else
                        {
                            @:Video bulunamadı
                        }
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TNT_Create_Date)
                    </td>

                    <td>
                        @Html.ActionLink("Düzenle", "Edit", new { id = item.TNT_Id }, new { @class = "btn btn-warning" })


                    </td>
                </tr>
            }


        }
    </tbody>
</table>
